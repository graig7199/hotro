<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Liên hệ hỗ trợ</title>
  <style>
    :root{--bg:#0b0b0d;--card:#0f1724;--accent:#00d67a;--muted:#9aa3b2}
    body{
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background:var(--bg);
      margin:0;
      padding:28px;
      color:#e6eef6;
      display:flex;
      align-items:center;
      justify-content:center;
      min-height:100vh;
    }
    .wrap{max-width:780px;width:100%}
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:14px;
      padding:20px;
      box-shadow:0 8px 30px rgba(2,6,23,0.6);
    }
    h1{font-size:20px;margin:0 0 6px;text-align:center}
    p.lead{margin:0 0 12px;color:var(--muted);text-align:center}
    label{font-size:13px;color:var(--muted);display:block;margin:10px 0 6px;text-align:center}
    .controls{
      display:flex;
      gap:8px;
      margin-top:12px;
      justify-content:center;
      flex-wrap:wrap;
    }
    button{
      background:var(--accent);
      color:#021014;
      padding:10px 12px;
      border-radius:10px;
      border:0;
      cursor:pointer;
      font-weight:600;
      flex:1;
      min-width:120px;
    }
    button.ghost{background:transparent;color:var(--accent);border:1px solid rgba(0,214,122,0.14)}
    .muted{color:var(--muted);font-size:13px;text-align:center}
    .idbox{font-family:monospace;background:rgba(255,255,255,0.02);padding:14px;border-radius:10px;margin-top:12px;word-break:break-all;text-align:center}
    a.appstore{display:inline-block;margin-top:8px;padding:8px 12px;border-radius:10px;background:rgba(255,255,255,0.02);color:var(--accent);text-decoration:none;text-align:center}
    @media (max-width: 480px) {
      h1 { font-size: 18px; }
      .idbox { font-size: 13px; }
      button { flex: 100%; }
    }

    /* Popup toast */
    .popup {
      position: fixed;
      bottom: -60px;
      left: 0;
      right: 0;
      margin: auto;
      max-width: 480px;
      background: var(--accent);
      color: #021014;
      padding: 14px;
      border-radius: 14px 14px 0 0;
      box-shadow: 0 -4px 20px rgba(0,0,0,0.4);
      font-weight: 600;
      text-align: center;
      transition: bottom 0.4s ease;
      z-index: 9999;
    }
    .popup.show { bottom: 0; }

    /* Confirm mobile */
    .confirm-overlay {
      position: fixed;
      top:0;left:0;right:0;bottom:0;
      background:rgba(0,0,0,0.6);
      display:flex;
      align-items:flex-end;
      justify-content:center;
      z-index:10000;
      opacity:0;
      pointer-events:none;
      transition:opacity 0.3s ease;
    }
    .confirm-overlay.show {
      opacity:1;
      pointer-events:auto;
    }
    .confirm-box {
      background:var(--card);
      padding:20px;
      border-radius:14px 14px 0 0;
      width:100%;
      max-width:480px;
      box-shadow:0 -6px 30px rgba(0,0,0,0.6);
      animation: slideUp 0.3s ease;
    }
    @keyframes slideUp {
      from {transform: translateY(100%);}
      to {transform: translateY(0);}
    }
    .confirm-msg {
      margin-bottom:20px;
      color:#e6eef6;
      font-size:16px;
      text-align:center;
    }
    .confirm-actions {
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .confirm-actions button {
      padding:14px;
      border-radius:10px;
      font-size:16px;
      font-weight:600;
      cursor:pointer;
      border:0;
    }
    .confirm-actions .yes { background:var(--accent);color:#021014; }
    .confirm-actions .no { background:#333;color:#fff; }
  </style>
</head>
<body>
  <div class="wrap card">
    <h1>Chat trực tiếp với hỗ trợ G-D trên Session</h1>
    <p class="lead">Sao chép ID sau đó bấm vào nút "Mở Session", trong ứng dụng bấm dấu + ở dưới màn hình -> "Các tin nhắn mới" -> dán ID vào...</p>

    <div style="margin-top:16px;text-align:center">
      <label>Tên hiển thị</label>
      <div id="displayName">CSKH-GD</div>

      <label>Session ID (đã dán sẵn)</label>
      <div class="idbox" id="idBox">057385c17764d80dfe74fa38dceae2143163db646e62ad00c7bee9847350969878</div>

      <div class="controls">
        <button id="openBtn">Mở Session</button>
        <button id="copyBtn" class="ghost">Sao chép ID</button>
      </div>

      <p class="muted" style="margin-top:10px">Ghi chú: Cài Session từ App Store.</p>
      <p class="muted" style="margin-top:10px">Session là ứng dụng nhắn tin tập trung vào quyền riêng tư.</p>
    </div>
  </div>

  <!-- Popup + Confirm -->
  <div id="popup" class="popup"></div>
  <div id="confirmOverlay" class="confirm-overlay">
    <div class="confirm-box">
      <div class="confirm-msg" id="confirmMsg"></div>
      <div class="confirm-actions">
        <button class="yes">Có</button>
        <button class="no">Không</button>
      </div>
    </div>
  </div>

  <script>
    const id = '057385c17764d80dfe74fa38dceae2143163db646e62ad00c7bee9847350969878';
    const openBtn = document.getElementById('openBtn');
    const copyBtn = document.getElementById('copyBtn');

    const popup = document.getElementById('popup');
    const confirmOverlay = document.getElementById('confirmOverlay');
    const confirmMsg = document.getElementById('confirmMsg');
    const confirmYes = confirmOverlay.querySelector('.yes');
    const confirmNo = confirmOverlay.querySelector('.no');

    function showPopup(msg){
      popup.textContent = msg;
      popup.classList.add('show');
      setTimeout(()=>popup.classList.remove('show'), 3000);
    }

    function showConfirm(msg, callback){
      confirmMsg.textContent = msg;
      confirmOverlay.classList.add('show');
      confirmYes.onclick = ()=>{confirmOverlay.classList.remove('show');callback(true)};
      confirmNo.onclick = ()=>{confirmOverlay.classList.remove('show');callback(false)};
    }

    openBtn.addEventListener('click', ()=>{
      const sessionLink = "https://apps.apple.com/vn/app/session-anonymous-messenger/id1470168868?l=vi";
      const appStoreLink = "https://apps.apple.com/vn/app/session-anonymous-messenger/id1470168868?l=vi";

      // Thử mở app Session
      window.location.href = sessionLink;

      // Nếu không mở được, hỏi sau 1 giây
      setTimeout(()=>{
        showConfirm("Bạn chưa cài Session, mở App Store để tải?", (ok)=>{
          if(ok) window.location.href = appStoreLink;
        });
      }, 1000);
    });

    copyBtn.addEventListener('click', async ()=>{
      try{
        await navigator.clipboard.writeText(id);
        showPopup('Đã sao chép ID');
      }catch(e){
        showPopup('Không thể sao chép, hãy copy thủ công');
      }
    });
    
  </script>
</body>
</html>
